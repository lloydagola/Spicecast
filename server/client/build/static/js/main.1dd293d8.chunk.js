(window.webpackJsonpclient=window.webpackJsonpclient||[]).push([[0],{26:function(e,t,a){e.exports=a(52)},31:function(e,t,a){},32:function(e,t,a){},34:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(23),c=a.n(l),o=(a(31),a(4)),i=a(10),s=a(11),u=a(13),m=a(12),p=a(14),f=a(2),d=a(7),b=(a(32),a(16)),E=a.n(b),h=a(18),g=a(8),v="http://localhost:4040";function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(a,!0).forEach(function(t){Object(o.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var j=Object(n.createContext)({}),w=Object(n.createContext)({}),N=function(e){var t=e.children;return r.a.createElement(j.Provider,null,t)},P=function(e){var t=e.children,a=Object(n.useState)({playState:"loaded",nowPlaying:{title:"What is",path:"audio/default.mp3",_id:"5daff1899a645939c0471689",parent:{_id:"5d709cd63eb0e22750940d2d",title:"Brexit",thumbnail:"images/no-image.jpg"}},playlistIsHidden:!1,playlist:[]}),l=Object(g.a)(a,2),c=l[0],o=l[1],i=Object(n.useState)([]),s=Object(g.a)(i,2),u=s[0],m=s[1],p=Object(n.useState)([]),f=Object(g.a)(p,2),d=f[0],b=f[1];function y(){return j.apply(this,arguments)}function j(){return(j=Object(h.a)(E.a.mark(function e(){var t,a,n,r=arguments;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"".concat(v,"/api/albums"),e.next=3,fetch(t);case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,e.abrupt("return",n);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}Object(n.useEffect)(function(){!function(){var e=Object(h.a)(E.a.mark(function e(){var t,a;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y("".concat(v,"/api/albums"));case 3:return t=e.sent,e.next=6,y("".concat(v,"/api/podcasts"));case 6:a=e.sent,m(t),b(a),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("an error occurred in App",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,11]])}));return function(){return e.apply(this,arguments)}}()()},[]);return r.a.createElement(w.Provider,{value:{audioState:c,playTrack:function(e){return e.title===c.nowPlaying.title&&"playing"==c.playState?void o(O({},c,{playState:"paused"})):void o(O({},c,{playState:"playing",nowPlaying:e}))},stopTrack:function(){o(O({},c,{playState:"stopped"}))},toggleTrack:function(){"playing"===c.playState?o(O({},c,{playState:"paused"})):o(O({},c,{playState:"playing"}))},podcasts:d,albums:u}},t)},k=(a(34),function(){return r.a.createElement("menu",{className:"main-menu"},r.a.createElement("div",{className:"menu-logo"},r.a.createElement(f.b,{to:"/"},r.a.createElement("h1",null," ",r.a.createElement("i",{className:"fas fa-stream"})," Spicecast"))),r.a.createElement("ul",{className:"menu-items"},r.a.createElement("li",null,r.a.createElement("a",{href:"localhost:3001"},r.a.createElement("i",{className:"fas fa-plus"})," Post")),r.a.createElement("li",null,r.a.createElement("a",{href:"localhost:3001"},r.a.createElement("i",{className:"fas fa-cloud-upload-alt"})," Uploads")),r.a.createElement("li",null,r.a.createElement("a",{href:"localhost:3001"},r.a.createElement("i",{className:"fas fa-th-large"})," Categories")),r.a.createElement("li",null,r.a.createElement("a",{href:"localhost:3001"},r.a.createElement("i",{className:"fas fa-bell yellow"})," 3")),r.a.createElement("li",null,r.a.createElement("a",{href:"localhost:3001"},r.a.createElement("i",{className:"fas fa-user"})," Sign in"))))}),S=(a(40),function(e){var t,a=Object(n.useContext)(w),l=a.audioState,c=(a.togglePlayState,a.toggleTrack),o=a.stopTrack,i=Object(n.useState)(0),s=Object(g.a)(i,2),u=s[0],m=s[1],p=Object(n.useState)("00:00"),f=Object(g.a)(p,2),d=f[0],b=f[1],E=Object(n.useState)(0),h=Object(g.a)(E,2),y=h[0],O=h[1],j=Object(n.useRef)(null),N=Object(n.useRef)(null);return Object(n.useEffect)(function(){j.current.onloadedmetadata=function(){return O(function(e){var t=Math.floor(e/60),a=j.current.duration-60*t;return t+":"+(a<10?"0"+a.toString():a.toString()).substr(0,2)}(j.current.duration.toFixed(0)))},j.current.ontimeupdate=function(e){b(function(e){parseInt(e/3600);var t=parseInt(e/60)%60,a=(e%60).toFixed();return(t<10?"0"+t:t)+":"+(a<10?"0"+a:a)}(e.srcElement.currentTime)),m(j.current.currentTime/j.current.duration)}},[u]),Object(n.useEffect)(function(){j.current.load(),j.current.play(),console.log("playing because path changed...")},[l.nowPlaying.path]),Object(n.useEffect)(function(){switch(l.playState){case"paused":j.current.pause();break;case"playing":console.log("playing because playstate changed..."),j.current.play();break;case"stopped":j.current.load();break;default:j.current.play()}},[l.playState]),r.a.createElement("section",{id:"audio-player",className:"audio-player"},r.a.createElement("audio",{ref:j},"Your browser does not support the",r.a.createElement("code",null,"audio")," element.",r.a.createElement("source",{src:"".concat(v,"/").concat(l.nowPlaying.path),type:"audio/mpeg"}),r.a.createElement("source",{src:"http://localhost:4000/music/Xilent/we are dust/01 From Dust.mp3",type:"audio/mpeg"})),r.a.createElement("img",{src:"".concat(v,"/").concat(l.nowPlaying.parent.thumbnail)}),r.a.createElement("div",{className:"audio-title"},r.a.createElement("h4",null,l.nowPlaying.parent.title," - ",l.nowPlaying.title)),r.a.createElement("div",{className:"player-controls"},r.a.createElement("i",{className:(t=l.playState,"playing"===t?"fas fa-pause pause-icon":"far fa-play-circle play-icon"),onClick:function(){return function(e){e(),!1===j.current.paused?j.current.pause():j.current.play()}(c)}}),r.a.createElement("i",{className:"fas fa-backward"}),r.a.createElement("i",{className:"fas fa-stop",onClick:function(){return function(e){m(0),e()}(o)}}),r.a.createElement("i",{className:"fas fa-forward"})),r.a.createElement("p",null,d),r.a.createElement("progress",{id:"seek-obj",value:u,max:"1",onClick:function(e){var t=e.nativeEvent.offsetX/N.current.offsetWidth;j.current.currentTime=t*j.current.duration,m(t/100)},ref:N}),r.a.createElement("p",null,y))});a(41);function D(e){return r.a.createElement("div",{className:"sidebar"},r.a.createElement("div",{className:"sidebar-content"},e.children))}a(42);function x(){return r.a.createElement(D,null,r.a.createElement("div",{className:"sidebar-left"},r.a.createElement("div",{className:"profile"},r.a.createElement("img",{src:"https://upload.wikimedia.org/wikipedia/commons/d/dc/Profile-jose-bermudez.jpg",alt:"Profile picture"}),r.a.createElement("div",null,r.a.createElement("h5",null,"Eric Summers"),r.a.createElement("p",null,"View Profile"))),r.a.createElement(f.a,null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(f.b,{to:"/"},r.a.createElement("i",{className:"far fa-clone"}),r.a.createElement("h5",null,"Feed"))),r.a.createElement("li",null,r.a.createElement(f.b,{to:"/"},r.a.createElement("i",{className:"fas fa-compass"}),r.a.createElement("h5",null,"New Shows")))),r.a.createElement("div",{className:"horizontal-line grey-background"}),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(f.b,{to:"/podcasts"},r.a.createElement("i",{className:"fas fa-heart"}),r.a.createElement("h5",null,"Favourites"))),r.a.createElement("li",null,r.a.createElement(f.b,{to:"/"},r.a.createElement("i",{className:"fas fa-history"}),r.a.createElement("h5",null,"History"))),r.a.createElement("li",null,r.a.createElement(f.b,{to:"/"},r.a.createElement("i",{className:"far fa-clock"}),r.a.createElement("h5",null,"Listen Later"))),r.a.createElement("li",null,r.a.createElement(f.b,{to:"/"},r.a.createElement("i",{className:"fas fa-list"}),r.a.createElement("h5",null,"Playlists")))),r.a.createElement("div",{className:"horizontal-line grey-background"}),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(f.b,{to:"/"},r.a.createElement("i",{className:"fas fa-chart-line"}),r.a.createElement("h5",null,"Trending")))))))}a(43);function C(){return r.a.createElement(D,null,r.a.createElement("div",{className:"sidebar-right"},r.a.createElement("h4",null,"People to follow"),r.a.createElement("div",{className:"follow"},r.a.createElement("img",{src:"https://upload.wikimedia.org/wikipedia/commons/d/dc/Profile-jose-bermudez.jpg",alt:"Profile picture"}),r.a.createElement("div",{className:"follow-profile"},r.a.createElement("h5",null,"Chris Coco"),r.a.createElement("h6",null,"98,000 followers"),r.a.createElement("button",null,"Follow"))),r.a.createElement("div",{className:"follow"},r.a.createElement("img",{src:"https://upload.wikimedia.org/wikipedia/commons/d/dc/Profile-jose-bermudez.jpg",alt:"Profile picture"}),r.a.createElement("div",{className:"follow-profile"},r.a.createElement("h5",null,"BBC World Sercice"),r.a.createElement("h6",null,"1,000 followers"),r.a.createElement("button",null,"Follow"))),r.a.createElement("div",{className:"follow"},r.a.createElement("img",{src:"https://upload.wikimedia.org/wikipedia/commons/d/dc/Profile-jose-bermudez.jpg",alt:"Profile picture"}),r.a.createElement("div",{className:"follow-profile"},r.a.createElement("h5",null,"Desi"),r.a.createElement("h6",null,"7,000 followers"),r.a.createElement("button",null,"Follow"))),r.a.createElement("div",{className:"horizontal-line grey-background"})))}a(44),a(45),a(46),a(47);var z=r.a.memo(function(e){var t=e.track,a=e.classes,l=Object(n.useContext)(w),c=l.audioState,o=l.playTrack;return t?r.a.createElement("div",{className:"playlist-view ".concat(a||"")},r.a.createElement("div",{className:"podcast-play",onClick:function(){return o(function(e){var t=e.title,a=e.path,n=e._id,r=e.podcast,l=e.album;return{title:t,path:a,_id:n,parent:r||l}}(t))}},"playing"==c.playState&&c.nowPlaying.path===t.path?r.a.createElement("i",{className:"far fa-pause-circle playing"}):r.a.createElement("i",{className:"far fa-play-circle"}),r.a.createElement("p",{className:"playing"},t.title," "))):r.a.createElement("div",{className:"playlist-view ".concat(a)})});function T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function F(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?T(a,!0).forEach(function(t){Object(o.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var A=r.a.memo(function(e){var t,a=e.podcast,n=e.podcast,l=n.title,c=n._id,o=n.thumbnail,i=n.hosts,s=n.episodes;return r.a.createElement("div",{className:"single-podcast"},r.a.createElement(f.b,{to:"/podcasts/".concat(c)},r.a.createElement("div",{className:"image-view"},r.a.createElement("div",{className:"podcast-text"},r.a.createElement("h4",null,l.toUpperCase()),r.a.createElement("div",{className:"horizontal-line podcast-horizontal-line white-background"}),i.length<1?"":r.a.createElement("h5",null,(t=i)?t.map(function(e){return e.title+" | "}):null)),r.a.createElement("div",{className:"filter"}),r.a.createElement("img",{src:"".concat(v,"/").concat(o),alt:"".concat(l," podcast thumbnail")}))),s.length<1?null:r.a.createElement(z,{track:F({},s[s.length-1],{podcast:a}),classes:"absolute"}),r.a.createElement("div",{className:"podcast-vertical-widget"},r.a.createElement("p",{className:"podcast-vertical-text"},r.a.createElement("b",null,"007")),r.a.createElement("div",{className:"vertical-line white"}),r.a.createElement("div",{className:"social-links"},r.a.createElement("i",{className:"fab fa-facebook-f"}),r.a.createElement("i",{className:"fab fa-instagram"}),r.a.createElement("i",{className:"fab fa-twitter"})),r.a.createElement("div",{className:"vertical-line white"})))}),_=function(e){var t=Object(n.useContext)(w).podcasts;return r.a.createElement("section",{className:"podcast-grid"},r.a.createElement("h2",null,e.title),r.a.createElement("div",{className:"podcast-grid-container"},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return e.length<1?"No podcasts...":e.slice(t,a).map(function(e,t){return r.a.createElement(A,{key:t,podcast:e})})}(t,e.start,e.end)))},B=(a(48),a(49),r.a.memo(function(e){e.album;var t=e.album,a=t.title,n=t._id,l=t.thumbnail,c=t.contributingArtists;t.tracks;return r.a.createElement("div",{className:"single-album"},r.a.createElement(f.b,{to:"/albums/".concat(n)},r.a.createElement("div",{className:"album-art"},r.a.createElement("div",{className:"album-filter"}),r.a.createElement("img",{src:"".concat(v,"/").concat(l),alt:"".concat(a," album thumbnail")})),r.a.createElement("div",{className:"album-buttons"}),r.a.createElement("div",{className:"album-text"},r.a.createElement("h4",null,a.toUpperCase()),r.a.createElement("p",null,c[0].title),r.a.createElement("div",{className:"horizontal-line album-horizontal-line white-background"}))))})),W=function(e){var t=Object(n.useContext)(w).albums;return r.a.createElement("section",{className:"album-grid"},r.a.createElement("h2",null,e.title),r.a.createElement("div",{className:"album-grid-container"},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e.length<1?"No albums...":e.map(function(e,t){return r.a.createElement(B,{key:t,album:e})})}(t,e.start,e.end)))};function I(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(_,{title:"Recommended podcasts",start:0,end:12}),r.a.createElement(W,{title:"Recommended Albums"}),r.a.createElement(_,{title:"Popular",start:12}),r.a.createElement(W,{title:"New Albums"}))}a(50);var R=function(e){var t=e.thumbnail,a=e.title,n=e.contributors;return r.a.createElement("div",{className:"parent-info"},r.a.createElement("img",{src:t}),r.a.createElement("div",{className:"parent-info-text"},r.a.createElement("h3",null,a),r.a.createElement("h5",null,function(e){return e?e.map(function(t,a){return a===e.length-1?t.title:t.title+" | "}):""}(n))))};a(51);function M(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function U(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?M(a,!0).forEach(function(t){Object(o.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):M(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var H=function(e){var t=e.items,a=void 0===t?[]:t,l=e.parent,c=e.contributors,o=e.album,i=Object(n.useContext)(w).playTrack;return r.a.createElement("div",null,r.a.createElement("table",null,r.a.createElement("tbody",null,a.map(function(e,t){return r.a.createElement("tr",{key:t,onClick:function(){return i(o?(t=U({},e,{parent:l}),a=c[0].title,U({},t,{parent:U({},t.parent,{title:a})})):U({},e,{parent:l}));var t,a}},r.a.createElement("td",null,e.title),r.a.createElement("td",null,function(e){return e?e.map(function(t,a){return a===e.length-1?t.title:t.title+", "}):"pen15"}(c)))}))))};function J(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var L=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={podcast:{}},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat(v,"/api/podcasts/").concat(this.props.match.params.id)).then(function(e){return e.json()}).then(function(t){return e.setState(function(e,a){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?J(a,!0).forEach(function(t){Object(o.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):J(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e,{podcast:t})})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){this.state.podcast.episodes&&this.state.podcast.episodes.map(function(e,t){return r.a.createElement(z,{key:t,track:e})});return r.a.createElement("div",null,r.a.createElement(R,{thumbnail:"".concat(v,"/").concat(this.state.podcast.thumbnail),contributors:this.state.podcast.hosts,title:this.state.podcast.title}),r.a.createElement(H,{items:this.state.podcast.episodes,contributors:this.state.podcast.hosts,parent:this.state.podcast}))}}]),t}(r.a.Component);function X(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var V=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={album:{}},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat(v,"/api/albums/").concat(this.props.match.params.id)).then(function(e){return e.json()}).then(function(t){return e.setState(function(e,a){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?X(a,!0).forEach(function(t){Object(o.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):X(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e,{album:t})})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this.state.album?r.a.createElement(H,{items:this.state.album.tracks,contributors:this.state.album.contributingArtists,parent:this.state.album,album:!0}):"loading...",t=this.state.album?r.a.createElement(R,{thumbnail:"".concat(v,"/").concat(this.state.album.thumbnail),contributors:this.state.album.contributingArtists,title:this.state.album.title}):"loading...";return r.a.createElement("div",null,t,e)}}]),t}(r.a.Component);function Y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function $(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Y(a,!0).forEach(function(t){Object(o.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Y(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}r.a.Component;var q=function(){return r.a.createElement(N,null,r.a.createElement(P,null,r.a.createElement("div",{className:"App"},r.a.createElement(f.a,null,r.a.createElement(k,null),r.a.createElement("div",{className:"main"},r.a.createElement(x,null),r.a.createElement("div",{className:"main-content"},r.a.createElement(d.c,null,r.a.createElement(d.a,{exact:!0,path:"/podcasts/:id",component:L}),r.a.createElement(d.a,{exact:!0,path:"/albums/:id",component:V}),r.a.createElement(d.a,{exact:!0,path:"/"},r.a.createElement(I,null)),r.a.createElement(d.a,{render:function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Not found..."))}}))),r.a.createElement(C,null)),r.a.createElement(S,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[26,1,2]]]);
//# sourceMappingURL=main.1dd293d8.chunk.js.map